<template>
  
  <div>

    <div id="container"> 
     
        <main>
            <header>
                <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/1940306/chat_avatar_01.jpg" alt="">
                <div>
                    <h2>Support</h2>
                    <h3>Online</h3>
                </div>
                <span class="close_button" @click="closeChat">X</span>
            </header>
            <ul id="chat">
                <li class="you" v-for="(receiveMsg, index) in receive_message" :key="index" v-if="index > 0">
                    <div class="entete">
                        <span class="status green"></span>
                        <h2>{{ receiveMsg.company_user_name}}</h2>
                        <h3>{{receiveMsg.chat_time}}</h3> 
                    </div>
                    <div class="triangle"></div>
                    <div class="message">
                        {{ receiveMsg.chat_receive }}
                    </div>
                </li>

                <li class="me" v-for="(msg, index) in send_message" :key="index"  v-if="index > 0">
                    <div class="entete">
                        <h3>{{ msg.chat_time }}</h3>
                        <h2>{{ msg.customer_name}}</h2>
                        <span class="status blue"></span>
                    </div>
                    <div class="triangle"></div>
                    <div class="message">
                        {{ msg.message }}
                    </div>
                </li>
            </ul>

            <footer class="text-right">
				
                <textarea placeholder="Type your message" cols="35" rows="1"  @keyup.enter="sendMessage($event)" ></textarea>
                <ul>
					<a href="#"><i class="fa fa-paperclip"></i></a>
					<a href="#"><i class="fa fa-music"></i></a>
					<a href="#"><i class="fa fa-camera"></i></a>
				</ul>
            </footer>
        </main>
	</div>
      

  </div>
</template>

<script>
import {mapGetters} from 'vuex'
export default {
props:['closeChat', 'sendMessage', 'send_message', 'receive_message'],
data(){
	return {
	
	}
},

created(){
	
},

computed:{
	...mapGetters({
		user:'user'
	})
},

mounted(){

	
	
}

}
</script>

<style scoped>
*{
	box-sizing:border-box;
}
body{
	background-color:#abd9e9;
	font-family:Arial;
}

#container {
	width: 20%;
	height: 415px;
	background: #eff3f7;
	margin: 0 auto;
	font-size: 0;
	border-radius: 5px;
	overflow: hidden;
	position: fixed;
	right: 2%;
	top: 40%;
	z-index: 99999;
}

.close_button{
	    right: 0;
    position: absolute;
    top: 0;
    padding: 10px;
    font-weight: 900;
    cursor: pointer;
}

aside{
	width:260px;
	height:400px;
	background-color:#3b3e49;
	display:inline-block;
	font-size:15px;
	vertical-align:top;
}

main {
	width: 100%;
	height: auto;
	display: inline-block;
	font-size: 14px;
	vertical-align: top;
}

aside header{
	padding:30px 20px;
}
aside input{
	width:100%;
	height:50px;
	line-height:50px;
	padding:0 50px 0 20px;
	background-color:#5e616a;
	border:none;
	border-radius:3px;
	color:#fff;
	background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/1940306/ico_search.png);
	background-repeat:no-repeat;
	background-position:170px;
	background-size:40px;
}
aside input::placeholder{
	color:#fff;
}
aside ul{
	padding-left:0;
	margin:0;
	list-style-type:none;
	overflow-y:scroll;
	height:500px;
}
aside li{
	padding:10px 0;
}
aside li:hover{
	background-color:#5e616a;
}
h2,h3{
	margin:0;
}
aside li img{
	border-radius:50%;
	margin-left:20px;
	margin-right:8px;
}
aside li div{
	display:inline-block;
	vertical-align:top;
	margin-top:12px;
}
aside li h2{
	font-size:14px;
	color:#fff;
	font-weight:normal;
	margin-bottom:5px;
}
aside li h3{
	font-size:12px;
	color:#7e818a;
	font-weight:normal;
}

.status{
	width:8px;
	height:8px;
	border-radius:50%;
	display:inline-block;
	margin-right:7px;
}
.green{
	background-color:#58b666;
}
.orange{
	background-color:#ff725d;
}
.blue{
	background-color:#6fbced;
	margin-right:0;
	margin-left:7px;
}

main header{
	width: 100%;
    margin: 11px;
}
main header > *{
	display:inline-block;
	vertical-align:top;
}
main header img:first-child{
	border-radius:50%;
}
main header img:last-child{
	width:24px;
	margin-top:8px;
}
main header div{
	margin-left:10px;
	margin-right:145px;
}
main header h2{
	font-size:16px;
	margin-bottom:5px;
}
main header h3{
	font-size:14px;
	font-weight:normal;
	color:#7e818a;
}

#chat{
	padding-left:0;
	margin:0;
	list-style-type:none;
	overflow-y:scroll;
	height:220px;
	border-top:2px solid #fff;
	border-bottom:2px solid #fff;
}
#chat li{
	padding:10px 30px;
}
#chat h2,#chat h3{
	display:inline-block;
	font-size:13px;
	font-weight:normal;
}
#chat h3{
	color:#bbb;
}
#chat .entete{
	margin-bottom:5px;
}
#chat .message{
	padding: 6px;
    color: #fff;
    line-height: 14px;
	max-width:90%;
	display:inline-block;
	text-align:left;
	border-radius:5px;
}
#chat .me{
	text-align:right;
}
#chat .you .message{
	background-color:#58b666;
}
#chat .me .message{
	background-color:#6fbced;
}
#chat .triangle{
	width: 0;
	height: 0;
	border-style: solid;
	border-width: 0 10px 10px 10px;
}
#chat .you .triangle{
		border-color: transparent transparent #58b666 transparent;
		margin-left:15px;
}
#chat .me .triangle{
		border-color: transparent transparent #6fbced transparent;
		margin-left:88%;
}

main footer{
	/* height:155px; */
	padding:20px 30px 10px 20px;
}
main footer textarea{
	/* resize: none; */
    border: none;
    display: block;
    /* width: 71%; */
    /* height: 58px; */
    border-radius: 3px;
    padding: 20px;
    font-size: 13px;
    margin-bottom: 13px;
    scroll-behavior: auto;
    overflow-y: hidden;
}
main footer textarea::placeholder{
	color:#ddd;
}
main footer img{
	height:30px;
	cursor:pointer;
}
main footer a{
	text-decoration:none;
	text-transform:uppercase;
	font-weight:bold;
	color:#6fbced;
	vertical-align:top;
	margin-left:333px;
	margin-top:5px;
	display:inline-block;
}

</style>